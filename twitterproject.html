<!DOCTYPE html>
<html>
    <head>

      <title>Twitter Project</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
           integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />


      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous">
      </script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous">
      </script>

    </head>
            <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
              <a class="navbar-brand" href="index.html">Sonia Balani</a>

              <!-- Links -->
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="index.html#home">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="index.html#aboutme">About Me</a>
                </li>

                <!-- Dropdown -->
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    Projects
                  </a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="index.html#projects">Projects: Summary</a>
                    <a class="dropdown-item" href="twitterproject.html">Tweeting Drives the Stock Market</a>
                  </div>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="index.html#contact">Contact Info</a>
                </li>

              </ul>
            </nav>  

<body> 
  <main>

<center> 
<h3 style="font-size: 1.7em; margin-top: 3em;"> Tweeting Drives the Stock Market ft. Elon Musk and Tesla </h3> <center> </br>
    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 1em;">
        <div class="col-7 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Introduction</p>
          <p class="lead text-center" style="font-size: 1em;">
         Recently Tesla has been in the news for upgrades to their electric car business and the CEO, Elon Musk, is known to be very active on the social media site, Twitter. He tweets frequently about Tesla, Inc., SpaceX missions as well as jokes. This sparked the question, which will also be the focus for my project; can a tweet with 280 characters influence the movement of a Fortune 500 company's stock price. 
          </p> 
        <div class="col-6 my-auto" >
          <div class="card-center" >
            <img src="intropic3.png" height="160px" class="card-img">
          </div>
        </div> 
      </div> 
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-7 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 1 - Collecting Stock Price Data</p>
          <p class="lead text-center"style="font-size: 1em;">
            To kickstart the project, I downloaded daily historical stock data from the past six months for Tesla into a CSV file from Yahoo! Finance<sup>1</sup>. By having the data in CSV format it can easily be imported into SQLiteStudio, a database manager I will be using to query the data collected and generate reports. I chose to only download data from the past six months as I felt it was a large enough time span to also have enough Twitter data. Also, six months would mean data from the beginning of 2019, which would be a fresh start for any plans Elon Musk has for Tesla in the upcoming year to be revealed through his tweets. 
          </p>
        <div class="col-6 my-auto">
          <div class="card-center" >
            <img src="phase1.png" height="140px"; class="card-img">
          </div>
        </div>
      </div>

      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-7 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 2 - Categorizing Elon Musk's Tweets</p>
          <p class="lead text-center"style="font-size: 1em;">
        The next phase of the inquiry involved categorizing Elon Musk’s tweets and retweets into the categories of Number of Tweets Relevant to Tesla and Not Relevant to Tesla from the past six months. This classification would help with trying to find a correlation between tweeting and the movement of the stock market. Aftering tallying up the categories, I inputted the data for; Dates, Relevant Tweets about Tesla, Not Relevant to Tesla and Total Tweets into an excel document and then saved it as a CSV file. 
          </p>
        <div class="col-6 my-auto" >
          <div class="card-center">
            <img src="phase2.png" height = "180px"; class="card-img" >
          </div>
        </div>
        </div>

      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-7 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 3 - Exporting Data into SQLiteStudio </p>
          <p class="lead text-center"style="font-size: 1em;">
        Following the Twitter data tally, I imported the data from the CSV files into a new SQLite database in SQLiteStudio. In order to find the days where there could be a strong correlation, I decided to use a weighted formula. The formula I used was: [(0.3 * |Δ stock price|) + (0.7 * total tweets)]. The weighted formula consists of constants which place more weight on the number of tweets as it is more likely there was a day with significant stock movement but not enough importance was being placed on how active he was on twitter. The top results should have both significant movement in the stock market and twitter activity in order to be investigated further. A weighted formula seemed to work best to help satisfy the criteria for the top results.  
        </p>
        <div class="col-6 my-auto">
          <div class="card-center">
            <img src="phase3.png" height="200px" class="card-img">
          </div>
        </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">  
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 4 - Generating Reports</p>
          <p class="lead text-center"style="font-size: 1em; margin-bottom: 2.5em;">
          To find the top few results, I joined the two tables through an inner join on the common column; Date, which would then display the data from the columns selected in the query based on the dates that are common in both tables. I performed the calculation through the query shown in Figure 1, and selected the columns; Date, Change in Stock Price and Total Tweets to be displayed alongside the values from the equation. Additionally, I calculated the average number of tweets per day and the average change in stock price per day to help narrow down the report generated. The filters I added made sure the report generated only included dates where the total number of tweets were greater than the average of 3 and the change in stock price was greater than the average of $0.04/day. This ensured a stronger and more condensed report making it easier to use the results for further analyzation. The query initially generated a report with 125 rows but was narrowed down to 40 rows after filters, shown in row 6 of Figure 1, were added to the query. I also ordered it to display the scores in descending order. From the report, shown in Figure 2, I chose the top 20 days, which is 50% of the data after filtering it, to be analyzed further. 
          <br><br>
          As seen in Figure 2, the dates with the highest scores have a significant number of tweets, that are higher than the average of 3 tweets/day, and a drastic change in the stock price as well.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center" style= "margin-bottom: 0em;">Figure 1: SQL Code</div>
            <img src="fig1.png"class="card-img">
          </div>
        </div>
         <div class="col-3 my-auto">
          <div class="card-center">
            <div class="card text-center" style= "margin-bottom: 0em;">Figure 2: SQL Report</div>
            <img src="FIGURE2.png" height="350px" class="card-img">
          </div>  
        </div> 
      </div>
    </div>


    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 5 - Digging Deeper into Twitter Data</p>
          <p class="lead text-center"style="font-size: 1em; margin-bottom: 2.5em;">

          After finding out the dates with the top scores, I studied the data further by looking at the ratio of relevant to not relevant tweets about Tesla on the top 20 days. This helped look into the context of what Elon Musk is tweeting about to see whether it had an influence on the movement of the stock price. I executed a query, shown in Figure 3, to display the number of relevant and not relevant tweets about Tesla on the top 20 scoring days. The query report, shown in Figure 4, shows the breakdown of what Elon Musk is tweeting about alongside the change in the stock price.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center" style= "margin-bottom: 0em;">Figure 3: SQL Code</div>
            <img src="fig3.png" class="card-img">
          </div>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center" style= "margin-bottom: 0em;">Figure 4: SQL Report</div>
            <img src="figure4.png" height="270px" class="card-img">
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Phase 6 - Twitter Sentiment Analysis</p>
          <p class="lead text-center"style="font-size: 1em; margin-bottom: 2.5em;">
          To see if a pattern existed to form a conclusion, I wanted to find at least 5 days out of the top 20 that showed tweeting having an effect on the movement of the stock price. I conducted a twitter sentiment analysis on the tweets and retweets for the top 20 scoring days to see if there were at least 5 days with a correlation. By categorizing the mood of the tweets or retweets about Tesla in the categories of; positive, negative and neutral I tried to find a correlation to the direction of the change in the stock price. The article, “Twitter Sentiment analysis using fastText” by Sanket Doshi<sup>2</sup>, provided me with the categories to place the sentiment present in the tweets or retweets by Elon Musk. I recorded the data in an excel document and downloaded it as a CSV file. After importing the data into the project's database, I joined the sentiment table with the previous two tables, as shown in Figure 5, to generate the report shown in Figure 6. </br> </br>

          The report in Figure 6 displays the change in the stock price alongside the number of positive, negative or neutral tweets about Tesla on the top 20 scoring days. Through this report we can see that on the dates April 23, 2019, January 7, 2019, January 10, 2019, May 31, 2019, and April 22, 2019 Elon Musk could have tweeted or retweeted something to influence the movement of the stock. I then decided to take a deeper look into the tweets that could have had an influence on the movement of the stock price on those 5 days.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 5: SQL Code</div>
            <img src="fig5.png" class="card-img">
          </div>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 6: SQL Report</div>
            <img src="figure6.png" height="295px" class="card-img">
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;"> Day 1 of 5 </p>
          <p class="lead text-center"style="font-size: 1em;">
            <U>Inside look on the tweets for the 5 days: </U>
            </br>
            On April 23, 2019, Elon Musk tweeted about the new Tesla Model S upgrades quite a lot and a video which showed the depth of information the Tesla cameras can collect. This might have caused the stock to rise.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 7</div>
            <img src="fig7.png" class="card-img">
          </div>
        </div>
         <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 8</div>
            <img src="fig8.png" class="card-img">
          </div>
        </div>
      </div>
    </div>


 <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Day 2 of 5</p>
          <p class="lead text-center"style="font-size: 1em;">
          On January 7, 2019, Elon Musk retweeted a thread about an article by Tom Randall, a reporter at Bloomberg, which talked about Tesla, Inc.’s cash flows increasing drastically and Model 3 bringing in the most revenue recorded in history in the U.S. This article shined a light on Tesla’s improvements and how U.S. citizens have increased their purchases of electric cars by Tesla.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 9</div>
            <img src="fig9.png" class="card-img">
          </div>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 10</div>
            <img src="fig10.png" class="card-img">
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;"> Day 3 of 5</p>
          <p class="lead text-center"style="font-size: 1em;">
            On January 10, 2019, Elon Musk retweeted a tweet about Tesla’s car loyalty and tweeted about how safe Tesla is.
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 11</div>
            <img src="fig11.png" class="card-img">
          </div>
        </div>
         <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 12</div>
            <img src="fig12.png" class="card-img">
          </div>
        </div>
      </div>
    </div>


    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Day 4 of 5</p>
          <p class="lead text-center"style="font-size: 1em;">
          On May 31, 2019, Elon Musk retweeted a tweet about how Tesla’s in car cameras helped the police catch a felon. It caught the eye of many twitter accounts as seen from the 16,000 favourites. He also tweeted the link to an article written on drivetest.com which touched on how the Model 3 performance is stellar. 
          </p>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 13</div>
            <img src="fig13.png" class="card-img">
          </div>
        </div>
        <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 14</div>
            <img src="fig14.png" class="card-img">
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-10 my-auto">
          <p class="text-center"style="font-size: 1.5em;"> Day 5 of 5</p>
          <p class="lead text-center"style="font-size: 1em;">
          On April 22, 2019, Elon Musk tweeted a link to a video which was about a car in auto-pilot mode. The tweet did not receive a lot of positive replies, one of which caught my eye. Tianqi Zhang mentioned an incident of a parked Tesla exploding that very same day, in an underground parking lot in Shanghai, China. 
          <br><br>
          The explosion was reported by many well known news publishers such as The Washington Post, CNBC and The Guardian as well which caused an uproar about Tesla’s cars around the world, as shown by Youp De Boer’s reply in Figure 16 below. It could have influenced the drop in the stock market that day.
          </p>
        </div>
           <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 15</div>
            <img src="fig15.png" class="card-img">
          </div>
        </div>
         <div class="col-4 my-auto">
          <div class="card-center">
            <div class="card text-center">Figure 16</div>
            <img src="fig16.png" class="card-img">
          </div>
        </div>
      </div>
    </div>


    <div class="container-fluid">
      <div class="row justify-content-center" style="margin-top: 3em;">
        <div class="col-7 my-auto">
          <p class="text-center"style="font-size: 1.5em;">Conclusion</p>
          <p class="lead text-center" style="font-size: 1em;">
          To conclude this inquiry, on the days where the stock price rose there was a significant amount of positive tweets about Tesla, such as about upgrades to Model S, it's safety or brand loyalty. On the days where the stock price fell, such as on April 22, 2019, the tweets about Tesla were not always positive or have positive replies, as seen by Tianqi Zhang drawing attention to the fateful car explosion. This leads me to conclude that tweeting can have an influence on the movement of the stock market.
          </p>
        <div class="col-6 my-auto">
          <div class="card-center"> 
            <img src="conc.png" height="200px" class="card-img">
          </div>
        </div>
        </div>
      </div>
    </div>

    <br> 
    <div class="container-fluid">
      <div class="row justify-content-left" style="margin-top: 3em;">
        <div class="col-11 my-auto">
          <p class="lead text-left" style="font-size: 1em;">
            ________________________________ <br>
                <sup> 1</sup> Tesla, Inc. (TSLA) Stock Historical Prices&Data. (n.d.). Retrieved from
                <A HREF="https://finance.yahoo.com/quote/TSLA/history?period1=1546405200&period2=1562040000&interval=1d&filter=history&frequency=1d"> https://finance.yahoo.com/quote/TSLA/history?period1=1546405200&period2=1562040000&interval=1d&filter=history&frequency=1d </A> 
              <br>
                 <sup> 2 </sup> Doshi, S. (2019, March 05). Twitter Sentiment Analysis using fastText - Towards Data Science. Retrieved from <A HREF = "https://towardsdatascience.com/twitter-sentiment-analysis-using-fasttext-9ccd04465597"> https://towardsdatascience.com/twitter-sentiment-analysis-using-fasttext-9ccd04465597 </A> 
              <br>
                <sup> 3 </sup> Goh, B., & Sun, Y. (2019, April 22). Tesla investigating video appearing to show Model S bursting into flames. Retrieved from <A HREF = "https://globalnews.ca/news/5190988/tesla-fire-video/"> https://globalnews.ca/news/5190988/tesla-fire-video/ </A> 
                </p>          
        </div>
      </div>
    </div>
  
    </main>
    </body>
</html>

